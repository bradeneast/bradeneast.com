function checkActiveLinks(){document.querySelectorAll('.nav-item').forEach(e=>{let t=e.textContent,o=window.location.href.toLowerCase();t&&(o.includes(t.toLowerCase())?e.classList.add('active'):e.classList.remove('active'))})}function toggleDarkMode(){const e=localStorage.getItem('darkModeOn');let t;e&&(t=JSON.parse(e)),t?localStorage.setItem('darkModeOn','false'):localStorage.setItem('darkModeOn','true'),document.documentElement.classList.toggle('dm')}function altFromSource(e){let t,o=e.getAttribute('src');if('string'==typeof o){let e=decodeURIComponent(o).split('/').pop();e&&(t=e.split('.').shift().replace(/-|\+/g,' '))}return t}function clearImageFormatting(){const e='style, width, height, max-width, max-height'.split(', ');document.querySelectorAll('img').forEach(t=>{e.map(e=>t.removeAttribute(e)),!t.getAttribute('alt')&&t.setAttribute('alt',altFromSource(t)),t.setAttribute('loading','lazy')})}function Stagger(e){let t,o,n,r=e.parent,a=[],i=.5*e.intensity;r.r=r.getBoundingClientRect(),!(t=e.origin?e.origin.split(' '):['top','left'])[1]&&t.push('center'),('left'==t[0]||'right'==t[0])&&t.reverse(),o=t[1].includes('center')?r.r.right-r.r.width/2:r.r[t[1]],n=t[0].includes('center')?r.r.bottom-r.r.height/2:r.r[t[0]],Array.from(e.parent.children).map(e=>{const r=e;let i;if('template'!==r.tagName.toLowerCase()){let e,l,c,s,d=r.getBoundingClientRect();e=t[1].includes('center')?d.right-d.width/2:d[t[1]],s=(l=t[0].includes('center')?d.bottom-d.height/2:d[t[0]])<n?n-l:l-n,c=e<o?o-e:e-o,i=Math.round(c+s),a.push(i)}}),a.sort(),'to'==e.direction&&a.reverse(),a.map((t,o)=>e.parent.children[o].style.animationDelay=o*i+'s')}function startTouchListeners(){let e,t;window.addEventListener('touchstart',function(t){e=parseInt(t.changedTouches[0].clientX)}),window.addEventListener('touchend',function(o){t=e-o.changedTouches[0].clientX,'darkModeToggle'==o.target.id&&(JSON.parse(localStorage.getItem('darkModeOn'))?t>toggleThreshold&&toggleDarkMode():t<-1*toggleThreshold&&toggleDarkMode())})}const toggles=Array.from(document.getElementsByClassName('toggle')),toggleThreshold=20;checkActiveLinks(),startTouchListeners();const main=document.getElementById('main'),navEndDesktop=document.querySelector('.nav-end'),navEndMobile=navEndDesktop.cloneNode(!0),newSection=document.createElement('section'),allImages=document.querySelectorAll('img'),staggerItems=document.querySelectorAll('[data-stagger]');newSection.appendChild(navEndMobile),main.insertAdjacentElement('afterend',newSection),staggerItems.forEach(e=>{Stagger({parent:e,intensity:.3,direction:'from',origin:'top'})}),allImages.forEach(e=>{clearImageFormatting(e),altFromSource(e)}),console.log('Here to hack? My website is hosted with Netlify, deployed with GitHub, and compiled with NodeJS. Have fun!\n- Braden');