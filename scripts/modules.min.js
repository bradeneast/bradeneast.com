function checkActiveLinks(){document.querySelectorAll('.nav-item').forEach(e=>{let t=e.textContent,n=window.location.href.toLowerCase();t&&toggleClass(e,'active',n.includes(t.toLowerCase()))})}function toggleDarkMode(){const e=localStorage.getItem('darkModeOn'),t=document.getElementById('favicon');let n;e&&(n=JSON.parse(e)),n&&(n=!1,t.setAttribute('href',t.href.replace('dark','light'))),n||(n=!0,t.setAttribute('href',t.href.replace('light','dark'))),localStorage.setItem('darkModeOn',n),toggleClass(document.documentElement,'dm')}function altFromSource(e){let t=e.getAttribute('src');if(t){let e=decodeURIComponent(t).split('/').pop();return e?e.split('.').shift().replace(/-|\+/g,' '):null}}function clearImageFormatting(){const e='style, width, height, max-width, max-height'.split(', ');document.querySelectorAll('img').forEach(t=>{e.map(e=>t.removeAttribute(e)),!t.getAttribute('alt')&&t.setAttribute('alt',altFromSource(t)),t.setAttribute('loading','lazy')})}function dynamicSort(e){let t=1;return'-'===e[0]&&(t=-1,e=e.substr(1)),function(n,o){return(n[e]<o[e]?-1:n[e]>o[e]?1:0)*t}}function toggleClass(e,t,n){return void 0===n?e.classList.toggle(t):e.classList.toggle(t,n),e}function populateCodepen(e){const t=e.getAttribute('data-slug-hash'),n=e.getAttribute('data-user'),o=document.createElement('p');t&&(o.innerHTML+=`View <a target="_blank" href="https://codepen.io/pen/${t}">this pen</a>`),t&&n&&(o.innerHTML+=` by <a target="_blank" href="${'https://codepen.io/'+n}">@${n}</a>`),o.innerHTML=t||n?o.innerHTML+' on CodePen.':'This pen is unavailable.',e.insertAdjacentElement('afterend',o)}function staggerAnimations(e){let t,n,o=e.parent,a=o.getBoundingClientRect(),r={x:a.right-a.width/2,y:a.bottom-a.height/2},i=Array.from(o.children),l=[],c=.5*e.intensity,s=e.origin.split(' ')||['top','left'];s[1]||s.push('center'),'left'!=s[0]&&'right'!=s[0]||s.reverse(),s.map((e,o)=>{'center'!=e?0==o?n=a[e]:t=a[e]:0==o?n=r.y:t=r.x}),i.map(e=>{let o=e.getBoundingClientRect(),a=o.right-o.width/2,r=o.bottom-o.height/2,i=Math.max(t,a)-Math.min(t,a),c=Math.max(n,r)-Math.min(n,r),s=Math.hypot(i,c);e.distance=Math.round(s),l.push(e)}),l.sort(dynamicSort('distance')),'to'==e.direction&&l.reverse(),l.map((e,t)=>e.style.animationDelay=t*c+'s')}function copyBoilerPlateForMobile(){const e=document.querySelector('.nav-end').cloneNode(!0),t=document.createElement('section');t.appendChild(e),main.insertAdjacentElement('afterend',t)}const main=document.getElementById('main'),allImages=Array.from(document.getElementsByTagName('img'));checkActiveLinks(),copyBoilerPlateForMobile(),document.querySelectorAll('[data-stagger]').forEach(e=>{staggerAnimations({parent:e,intensity:.2,direction:'from',origin:'top'})}),allImages.map(e=>{clearImageFormatting(e),altFromSource(e)}),document.querySelectorAll('.codepen').forEach(e=>populateCodepen(e));