var e,t=(e=require("void-elements"))&&"object"==typeof e&&"default"in e?e.default:e,n=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function r(e){var r={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},i=e.match(/<\/?([^\s]+?)[/\s>]/);if(i&&(r.name=i[1],(t[i[1].toLowerCase()]||"/"===e.charAt(e.length-2))&&(r.voidElement=!0),r.name.startsWith("!--"))){var s=e.indexOf("--\x3e");return{type:"comment",comment:-1!==s?e.slice(4,s):""}}for(var a=new RegExp(n),c=null;null!==(c=a.exec(e));)if(c[0].trim())if(c[1]){var o=c[1].trim(),u=[o,""];o.indexOf("=")>-1&&(u=o.split("=")),r.attrs[u[0]]=u[1],a.lastIndex--}else c[2]&&(r.attrs[c[2]]=c[3].trim().substring(1,c[3].length-1));return r}var i=/<[a-zA-Z\-\!\/](?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])*>/g,s=Object.create(null);function a(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(a,"")+"</"+t.name+">";case"comment":return e+"\x3c!--"+t.comment+"--\x3e"}}module.exports={parse:function(e,t){t||(t={}),t.components||(t.components=s);var n,a=[],c=[],o=-1,u=!1;if(0!==e.indexOf("<")){var l=e.indexOf("<");a.push({type:"text",content:-1===l?e:e.substring(0,l)})}return e.replace(i,function(i,s){if(u){if(i!=="</"+n.name+">")return;u=!1}var l,m="/"!==i.charAt(1),d=i.startsWith("\x3c!--"),f=s+i.length,p=e.charAt(f);if(d){var h=r(i);return o<0?(a.push(h),a):((l=c[o]).children.push(h),a)}if(m&&(o++,"tag"===(n=r(i)).type&&t.components[n.name]&&(n.type="component",u=!0),n.voidElement||u||!p||"<"===p||n.children.push({type:"text",content:e.slice(f,e.indexOf("<",f))}),0===o&&a.push(n),(l=c[o-1])&&l.children.push(n),c[o]=n),(!m||n.voidElement)&&(o>-1&&(n.voidElement||n.name===i.slice(2,-1))&&o--,!u&&"<"!==p&&p)){l=-1===o?a:c[o].children;var v=e.indexOf("<",f),x=e.slice(f,-1===v?void 0:v);/^\s*$/.test(x)||l.push({type:"text",content:x})}}),a},stringify:function(e){return e.reduce(function(e,t){return e+a("",t)},"")}};
//# sourceMappingURL=html-parse-stringify.js.map
