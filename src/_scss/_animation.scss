// @keyframes showFallback {
// 	0% {
// 		content: "Loading";
// 	}
// 	10% {
// 		content: "Loading.";
// 	}
// 	20% {
// 		content: "Loading..";
// 	}
// 	30% {
// 		content: "Loading...";
// 	}
// 	40% {
// 		content: "Loading.";
// 	}
// 	50% {
// 		content: "Loading..";
// 	}
// 	60% {
// 		content: "Loading...";
// 	}
// 	100% {
// 		content: "\1F62C Yikes... this external resource isn't available right now.";
// 	}
// }

html {
	.paused,
	.reduced-motion {
		animation-play-state: paused;
		transition: none;

		*,
		*::after,
		*::before {
			animation-play-state: paused;
			transition: none;
		}
	}

	main {
		transition: $smoothTransition;
	}

	footer[class*="border-"]::before {
		transition-delay: 0.3s !important;
	}

	[class*="border-"] {
		&::before {
			transition: $smoothTransition;
			transform-origin: top left;
		}

		&:nth-child(2)::before {
			transition-delay: 0.1s;
		}

		&:nth-child(3)::before {
			transition-delay: 0.2s;
		}

		&:nth-child(4)::before {
			transition-delay: 0.3s;
		}
	}

	.feed > *,
	.post--body > *,
	.blurb {
		transition: transform $smoothTransition, opacity $smoothTransition;

		&:nth-child(2) {
			transition-delay: 0.1s;
		}

		&:nth-child(3) {
			transition-delay: 0.2s;
		}

		&:nth-child(4) {
			transition-delay: 0.3s;
		}

		&:nth-child(5) {
			transition-delay: 0.4s;
		}

		&:nth-child(6) {
			transition-delay: 0.5s;
		}

		&:nth-child(7) {
			transition-delay: 0.6s;
		}
	}

	&[data-schwifty="in"] {
		transition-duration: 0.1s;
	}

	&[data-schwifty] {
		.feed > *,
		.post--body > *,
		.blurb {
			transform: translateY(1em);
			opacity: 0;
		}

		main {
			opacity: 0;
		}

		nav a[aria-current]::after {
			transform: scaleY(0);
		}

		.border-left::before,
		.border-right::before {
			transform: scaleY(0);
		}

		.border-top::before,
		.border-bottom::before {
			transform: scaleX(0);
		}
	}
}

.animation {
	width: var(--animationSize);
	height: var(--animationSize);
}

[data-tooltip] {
	position: relative;
	color: var(--primary);
	font-weight: $fontWeightHeavy;
	$space: 0.4em;

	&:hover,
	&:focus {
		&::before {
			opacity: 1;
			transform: translate(50%, 0);
		}
	}

	&::before,
	&::after {
		text-align: center;
		line-height: 1.2;
		font-variation-settings: nth($fontVariations, 1);
		color: var(--g4);
	}

	&::after {
		content: "*";
	}

	&::before {
		min-width: 8em;
		position: absolute;
		content: attr(data-tooltip);
		font-size: 0.85rem;
		right: 0;
		bottom: 100%;
		padding: $space / 2 $space;
		padding-bottom: $space + $space * 0.5;
		background: var(--g7);
		pointer-events: none;
		opacity: 0;
		transform: translate(50%, 1em);
		transition: $smoothTransition;
		--pt: calc(100% - #{$space});
		clip-path: polygon(
			0 0,
			100% 0,
			100% var(--pt),
			calc(50% + #{$space}) var(--pt),
			50% 100%,
			calc(50% - #{$space}) var(--pt),
			0 var(--pt)
		);
	}
}
