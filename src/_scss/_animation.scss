// @keyframes showFallback {
// 	0% {
// 		content: "Loading";
// 	}
// 	10% {
// 		content: "Loading.";
// 	}
// 	20% {
// 		content: "Loading..";
// 	}
// 	30% {
// 		content: "Loading...";
// 	}
// 	40% {
// 		content: "Loading.";
// 	}
// 	50% {
// 		content: "Loading..";
// 	}
// 	60% {
// 		content: "Loading...";
// 	}
// 	100% {
// 		content: "\1F62C Yikes... this external resource isn't available right now.";
// 	}
// }

@keyframes bgPos {
	from {
		background-position: bottom right;
	}
	to {
		background-position: top left;
	}
}

@keyframes animateIn {
	to {
		transform: translate3d(0, 0, 0) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1);
		opacity: 1;
	}
}

html {
	.reduced-motion {
		animation-play-state: paused;
		transition: none;

		*,
		*::after,
		*::before {
			animation-play-state: paused;
			transition: none;
		}
	}

	main {
		transition: $smoothTransition;
	}

	footer[class*="border-"]::before {
		transition-delay: 0.3s !important;
	}

	[class*="border-"] {
		&::before {
			transform-origin: top left;
		}

		&:nth-child(2)::before {
			transition-delay: 0.1s;
		}

		&:nth-child(3)::before {
			transition-delay: 0.2s;
		}

		&:nth-child(4)::before {
			transition-delay: 0.3s;
		}
	}

	&[data-schwifty="in"] {
		transition-duration: 0.1s;
	}

	&[data-schwifty] {
		main {
			opacity: 0;
		}

		nav a[aria-current]::after {
			transform: scaleY(0);
		}

		.border-left::before,
		.border-right::before {
			--scaleY: 0;
		}

		.border-top::before,
		.border-bottom::before {
			--scaleX: 0;
		}
	}
}

.animate-in {
	--animateFrom: 0;
	opacity: 0;
	transform: translate3d(0, calc(1em * var(--animateFrom)), 0) rotateX(10deg) scale(0.95);
	animation: animateIn $smoothTransition paused forwards;

	&.intersecting {
		animation-play-state: running;
	}
}

.animation {
	width: var(--animationSize);
	height: var(--animationSize);
}

[data-tooltip] {
	position: relative;
	color: var(--primary);
	font-weight: $fontWeightHeavy;
	$space: 0.63em;

	&:hover,
	&:focus {
		&::before {
			opacity: 1;
			transform: translate(50%, 0);
		}
	}

	&::before,
	&::after {
		letter-spacing: 0;
		text-align: center;
		line-height: 1.2;
		font-variation-settings: nth($fontVariations, 1);
	}

	&::after {
		color: var(--g4);
		content: "*";
	}

	&::before {
		color: var(--g0);
		background: var(--g7);
		border-top: $borderWidth $borderStyle;
		border-image: linear-gradient(to right, var(--primary), var(--accent)) 30;
		font-size: 0.85rem;
		position: absolute;
		content: attr(data-tooltip);
		min-width: 8em;
		right: 0.4em;
		bottom: 100%;
		padding: $space / 2 $space;
		padding-bottom: $space + $space * 0.5;
		pointer-events: none;
		opacity: 0;
		transform: translate(50%, 1em);
		transition: $smoothTransition;
		--pt: calc(100% - #{$space});
		clip-path: polygon(
			0 0,
			100% 0,
			100% var(--pt),
			calc(50% + #{$space}) var(--pt),
			50% 100%,
			calc(50% - #{$space}) var(--pt),
			0 var(--pt)
		);
	}
}
