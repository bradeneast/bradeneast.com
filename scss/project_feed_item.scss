@import "./variables";

html.dark_mode [data-feed] li {
    background: $darkgrey;
}

[data-feed] li {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(16rem, 1fr));
    gap: $flow-space;
    gap: var(--flow-space);
    border-radius: $border-radius;
    background: $ultralightgrey;
    padding: 0;
    transition: $transition-long;

    .tooltip {
        display: none;
    }

    .content,
    .media {
        transition: inherit;
        min-height: 20rem;
        display: grid;
    }

    .content {
        grid-template-rows: auto 1fr;
        padding: $flow-space;
        padding: var(--flow-space);
        will-change: transform;

        .meta {
            align-self: end;
            color: $mediumgrey;
        }
    }

    .media {
        &:hover img,
        &:focus img {
            transform: translateY(-50%) scale(1.05);
        }

        img {
            position: absolute;
            right: 0;
            top: 50%;
            height: 100%;
            transform: translateY(-50%);
            transition: inherit;
            will-change: transform;
        }
    }

    &:hover,
    &:focus,
    &:focus-within {
        border-radius: $border-radius-alt;
        background: none !important;

        .content {
            transform: translateX(#{$flow-space * -1});
        }

        .media {
            img {
                height: 85%;
                width: calc(100% + var(--flow-space));
            }
        }
    }
}
