var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
(function (g, h) { var i = function () { return this; }(), e = {}, f = function (c, d) { if (typeof c === "number") {
    var a_1 = e[c], b = void 0;
    return a_1 || (a_1 = e[c] = { exports: {} }, g[c].call(i, f, a_1.exports, a_1)), b = a_1.exports, d && (!b || !b.__esModule) && ((!b || typeof b !== "object") && (b = {}), "default" in b || Object.defineProperty(b, "default", { get: function () { return a_1.exports; }, enumerable: !0 })), b;
} d.__esModule = function () { return !0; }; for (var a in d)
    Object.defineProperty(c, a, { get: d[a], enumerable: !0 }); }; return f(h); })({ 2: function (s, u) {
        function m(a, h) {
            if (h === void 0) { h = ""; }
            var b = h.split("."), c = __assign({}, a);
            return b.map(function (d) { return c = c[d] || ""; }), c;
        }
        function t(a, h, b) { if (!a.length)
            return; var c = new RegExp(a, "gi"), d = []; var _loop_1 = function (g) {
            b = b.length ? b : Object.keys(g);
            for (var _i = 0, b_1 = b; _i < b_1.length; _i++) {
                var i = b_1[_i];
                var e = m(g, i);
                if (!c.test(e))
                    continue;
                if (d.find(function (f) { return f.content == g; }))
                    continue;
                d.push({ content: g, matchedBy: e.match(c) });
            }
        }; for (var _i = 0, h_1 = h; _i < h_1.length; _i++) {
            var g = h_1[_i];
            _loop_1(g);
        } return d; }
        var p = function (a) { var h = k.querySelectorAll(".result"); h.forEach(function (b) { return b.remove(); }), n.then(function (b) { var c = ["name", "excerpt"], d = t(a, b, c); if (!d)
            return; for (var _i = 0, d_1 = d; _i < d_1.length; _i++) {
            var _a = d_1[_i], g = _a.content, i = _a.matchedBy;
            var e = o.cloneNode(!0), f = e.innerHTML, v = new RegExp("result..+?(?=[W< `\"'])", "gi"), w = f.match(v) || [];
            for (var _b = 0, w_1 = w; _b < w_1.length; _b++) {
                var l = w_1[_b];
                var r = l.replace("result.", ""), j = m(g, r);
                if (c.includes(r)) {
                    var x = new RegExp(i[0], "gi");
                    j = j.replace(x, "<mark>" + i[0] + "</mark>"), f = f.replace(l, j);
                    continue;
                }
                f = f.replace(l, j);
            }
            e.removeAttribute("id"), e.classList.add("result"), e.innerHTML = f, k.appendChild(e);
        } }); };
        s(u, { resultTemplate: function () { return o; }, resultsElem: function () { return k; }, sitemap: function () { return n; } });
        var n = fetch("/sitemap.json").then(function (a) { return a.json(); }), k = document.getElementById("search_results"), o = document.getElementById("search_result_template");
        if (!("fetch" in window)) {
            var a = document.getElementById("search_wrapper");
            a ? a.style.display = "none" : null;
        }
        var q = document.getElementById("search");
        q.addEventListener("keyup", function (a) { p(a.target.value), history.replaceState(null, null, location.pathname + "?" + a.target.value); });
        if (location.search) {
            var a = location.search.replace("?", "");
            q.value = a, p(a);
        }
    } }, 2);
