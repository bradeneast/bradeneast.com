function addCodepenFallback(e){var t='https://codepen.io',a=e.getAttribute('data-slug-hash'),n=e.getAttribute('data-user'),r=document.createElement('p');if(a||n||(r.innerText='This pen is unavailable.'),a){var i=document.createElement('a'),l=[t,'pen',a].join('/');i.href=l,r.innerText+='View ',i.innerText='this pen',r.appendChild(i)}a&&n&&(i=document.createElement('a'),l=[t,n].join('/'),i.href=l,i.innerText='@'+n,r.innerText+='by ',r.appendChild(i)),addClass(r,'codepen-fallback'),r.innerHTML+=' on CodePen.',e.insertAdjacentElement('afterend',r)}function altFromSrc(e){if(e&&e.getAttribute('src')){var t=e.getAttribute('src'),a=decodeURIComponent(t)||'',n=a.split('/').pop(),r=n.split('.').shift().replace(/-|\+/g,' ');return r||''}}function search(e,t,{matchProps:a}={}){var n=new RegExp(e,'gi'),r=[];return t.map(e=>{var t=a||Object.keys(e);t.map(t=>{n.test(e[t])&&r.push(e)})}),r}function toggleDarkMode(){var e='dark_mode',t=JSON.parse(localStorage.getItem(e));document.documentElement.classList.toggle(e,!t),localStorage.setItem(e,JSON.stringify(!t)),document.activeElement.blur()}function addClass(e,t){var a=e.getAttribute('class');e.setAttribute('class',a+' '+t)}function valueIn(e,t=''){var a=t.split('.'),n={...e};return a.map(e=>n=n[e]),n}for(var images=document.getElementsByTagName('img'),i=0;i<images.length;i++){var img=images[i];addClass(img.parentElement,'has-img'),altFromSrc(img)}var nav=document.getElementById('nav'),navItems=nav.getElementsByTagName('a');for(i=0;i<navItems.length;i++){var url=location.pathname,area=url.length<=1?url:url.split('/')[1],item=navItems[i],href=item.getAttribute('href');if(href==area||href.split('/')[1].includes(area)){item.classList.add('active');break}}var pElems=document.getElementsByTagName('p');for(i=0;i<pElems.length;i++){var p=pElems[i];p['data-slug-hash']&&(''==p.innerHTML&&(p.innerHTML='&#x1F62C; Yikes... this pen isn\'t available.'),addCodepenFallback(p))}var links=document.getElementsByTagName('link');for(i=0;i<links.length;i++){var link=links[i];(link.defer||link.getAttribute('defer'))&&(link.rel='stylesheet')}var anchors=document.getElementsByTagName('a');for(i=0;i<anchors.length;i++){var a=anchors[i];new RegExp(location.origin,'i').test(a.href)||(a.target='_blank',a.rel='noopener noreferrer')}var sitemap=fetch('/sitemap.json').then(e=>e.json()),resultListElem=document.getElementById('search_results'),resultTemplate=document.getElementById('search_result_template');document.addEventListener('keyup',e=>{if('search'==e.target.id&&!IE){if(resultListElem.querySelectorAll('li').forEach(e=>e.remove()),!e.target.value.length)return;sitemap.then(t=>{var a=search(e.target.value,t,{matchProps:['name','categories.names']});a.map(e=>{var t=document.importNode(resultTemplate.content,!0),a=t.firstElementChild,n=a.innerHTML.match(/result\..+?(?!\w|\.)/g)||[];n.map(t=>{var n=valueIn(e,t.replace('result.',''));a.innerHTML=a.innerHTML.replace(t,n)}),resultListElem.appendChild(t)})})}});var darkModeToggle=document.getElementById('dark_mode_toggle');darkModeToggle.addEventListener?darkModeToggle.addEventListener('click',toggleDarkMode):darkModeToggle.attachEvent&&darkModeToggle.attachEvent('onclick',toggleDarkMode);