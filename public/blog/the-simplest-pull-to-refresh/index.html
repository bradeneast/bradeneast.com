<!doctype html>
<html lang="en">

<head>

    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <title>Braden East | The simplest pull-to-refresh</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Whether you like it or not, pull-to-refresh is here to stay, and it&#39;s something that designers and developers need to have in their reportoire.  While Swift has a native API for pull-to-refresh, web developers have to figure out their own Javascript implementation of the concept, which is unpleasantly buggy at worst and time-consuming at best.">
    <meta property="og:site_name" content="Braden East" />
    <meta property="og:description" content="Whether you like it or not, pull-to-refresh is here to stay, and it&#39;s something that designers and developers need to have in their reportoire.  While Swift has a native API for pull-to-refresh, web developers have to figure out their own Javascript implementation of the concept, which is unpleasantly buggy at worst and time-consuming at best." />
    <meta property="og:url" content="https://www.bradeneast.com/blog/the-simplest-pull-to-refresh" />
    <meta property="og:image" content="https://www.bradeneast.com/_assets/on-a-rock-small.jpg" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="website" />
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="/_assets/favicon-light--padded.png" />
    <meta name="supported-color-schemes" content="light dark" />

    <base href="/" />
    <link rel="canonical" href="https://www.bradeneast.com/blog/the-simplest-pull-to-refresh" />
    <link rel="shortcut icon" href="/_assets/favicon-light.png" type="image/png" />
    <link rel="apple-touch-icon-precomposed" href="/_assets/favicon-light--padded.png" type="image/png" />

    <link rel="prefetch" as="font" href="/_assets/fonts/parisien_night/ParisienNight.woff2" type="font/woff2" />
    <link rel="prefetch" as="font" href="/_assets/fonts/hk_grotesk/HKGrotesk-Regular.woff2" type="font/woff2" />
    <link rel="prefetch" as="font" href="/_assets/fonts/hk_grotesk/HKGrotesk-Italic.woff2.woff2" type="font/woff2" />
    <link rel="prefetch" as="font" href="/_assets/fonts/hk_grotesk/HKGrotesk-Bold.woff2" type="font/woff2" />
    <link rel="prefetch" as="font" href="/_assets/fonts/solway/Solway-Medium.woff2" type="font/woff2" />
    

    <link rel="preload" as="style" href="/_assets/css/main.min.css" type="text/css" />
    <link rel="stylesheet" href="/_assets/css/main.min.css" type="text/css" />
    <link rel="preload" as="style" defer="true" href="/_assets/css/non_critical.min.css" type="text/css" />
    <noscript>
        <link rel="stylesheet" href="/_assets/css/non_critical.min.css" type="text/css" />
    </noscript>

    <script defer src="https://polyfill.io/v3/polyfill.min.js" crossorigin="anonymous"></script>
    <script defer src="/_assets/js/main.min.js"></script>
    <script>
        var dmName = 'dark_mode';
        var dm = localStorage.getItem(dmName);
        var doc = document.documentElement;
        var IE = navigator.userAgent.indexOf('MSIE') > -1 || navigator.appVersion.indexOf('Trident/') > -1;

        if (dm == null || IE) localStorage.setItem(dmName, false);

        if (IE) {
            var retroModeStyles = document.createElement('link');
            retroModeStyles.rel = 'stylesheet';
            retroModeStyles.href = '/_assets/css/retro_mode.min.css';
            retroModeStyles.setAttribute('type', 'text/css');
            doc.appendChild(retroModeStyles);
        } else {
            doc.classList.toggle(dmName, JSON.parse(dm));
        }
    </script>

</head>

<body>

    <button class="unstyled" id="skip_link" aria-label="skip to main content">skip to content ðŸ‘‡</button>

    <div class="nav_wrapper" aria-label="navigation">

    <nav id="nav">
        <a class="highlight " href="/">About</a>
        <a class="highlight active" href="/blog">Blog</a>
    </nav>

</div>

    <main id="main">

        <!-- CodePen embed script -->
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>

<!-- Syntax highlighting with PrismJS -->
<link defer="true" rel="preload" as="style" href="/_assets/css/prism.min.css"><script defer src="/_assets/js/prism.min.js"></script>


<article>

    <h1 class="title">The simplest pull-to-refresh</h1>

    <div class="meta">

        <div class="created" aria-label="Date created:">
            <strong>Created:</strong> Wed Jan 22 2020
        </div>

        <div class="modified" aria-label="Date modified:">
            <strong>Updated:</strong> Mon May 04 2020
        </div>

        <p class="categories" aria-label="Categories:"><a href="/blog/categories/design">design</a><a href="/blog/categories/ui">ui</a><a href="/blog/categories/css">css</a></p>

    </div>

    <div class="featured_media" aria-label="Featured media:">

        <img src="/_assets/media/pull.jpg" alt="" />

    </div>

    <p>Whether you like it or not, pull-to-refresh is here to stay, and it&#39;s something that designers and developers need to have in their reportoire.  While <a href="https://stackoverflow.com/questions/24475792/how-to-use-pull-to-refresh-in-swift">Swift has a native API</a> for pull-to-refresh, web developers have to figure out their own Javascript implementation of the concept, which is unpleasantly buggy at worst and time-consuming at best.</p><blockquote>
<p>The first White House website was set up during the presidential term of Bill Clinton.</p></blockquote><p>The reality is that most pull-to-refresh concepts are overdone and over-engineered for such a discreet part of the user interaction. Many have written to a great extent on accessibility and performance, so I&#39;ll let you decide if this lightweight approach meets your own standards.</p><p>Even the OG&#39;s of this interaction, Twitter and Instagram, have extremely simple pull-to-refresh interfaces.</p><p>Let&#39;s put together a reduced example app that we could pull downward to update with fresh content.</p><pre><code class="language-html">&lt;div class=&quot;loader&quot;&gt;
    &lt;div class=&quot;loader--inner&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;ul class=&quot;scrollingList&quot;&gt;
    &lt;li&gt;&lt;/li&gt;
    &lt;li&gt;&lt;/li&gt;
    &lt;li&gt;&lt;/li&gt;
    &lt;li&gt;&lt;/li&gt;
    &lt;li&gt;&lt;/li&gt;
    &lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;</code></pre><p>The loader animation should be hidden by default, so we&#39;ll give it a <code>height</code> of <code>0</code>. When the <code>loading</code> class is added, we&#39;ll animate to a different height value, which will push the rest of our content down.</p><pre><code class="language-css">.loader {
    height: 0;
    overflow: hidden;
    will-change: transform;
    transition: .3s ease;
}

.loader.loading {
    height: 6em;
}</code></pre><p>To detect when the content is &quot;pulled&quot; downward, we need to use a <code>scroll</code> event listener on the list. This function shows the loader for 2 seconds if the content is scrolled to less than 1px from the top. Let&#39;s also wrap it in <code>requestAnimationFrame()</code> for better performance.</p><pre><code class="language-javascript">const scrollingList = document.querySelector(&#39;.scrollingList&#39;);
const loader = document.querySelector(&#39;.loader&#39;);

scrollingList.addEventListener(&#39;scroll&#39;, () =&gt; {
    requestAnimationFrame(() =&gt; {

        if (scrollingList.scrollTop &gt; 1) return;
        loader.classList.add(&#39;loading&#39;);

        setTimeout(() =&gt; {            
            loader.classList.remove(&#39;loading&#39;);
            scrollingList.scrollTo(0, 2);
        }, 2000);

    })
})</code></pre><p>That&#39;s all the Javascript we need! You&#39;ll notice we also used <code>scrollTo</code>, keeping the scroll position from ever staying at 0. This will make sure there is always room to scroll up and trigger the refresh.</p><p>Here&#39;s the demo:</p><p class="codepen" data-slug-hash="bGNMyJx" data-theme-id="dark"></p><p>It&#39;s up to you what styles, animations, and other garnish you want to add. For easy integration with an existing project, you probably want to abstract the whole function and assign variables to the threshold and class name. I hope you can use this minimal and lightweight approach in your projects!</p>

    <p id="blog_cta">
    Thanks for reading! If you like this, <a target="_blank" href="https://twitter.com/intent/tweet?text=The simplest pull-to-refresh%0a&url=https://bradeneast.com/blog/the-simplest-pull-to-refresh&via=bradenthehair&hashtags=design,ui,css">share it</a> with your friends.
</p>

</article>

<div class="scope_nav">
    <a class="highlight" href="/blog/get-alt-value-automatically-from-src-attribute">
        <span class="label">Previous</span>
        <h4 class="name">Get alt value automatically from src attribute</h4>
    </a>
    <a class="highlight" href="/blog/staggered-animations">
        <span class="label">Next</span>
        <h4 class="name">Staggered animations</h4>
    </a>
</div>

    </main>

    <div id="pre_footer">

    <div id="contact">

    <h3>Let's work together!</h3>

    <p>
        If you're working on a creative project, please reach out. I'd love to collaborate and contribute.
    </p>

    <a class="button highlight" href="mailto:bradeneastdesign@gmail.com">
        <div class="button__text">Say Hi ðŸ‘‹</div>
    </a>

</div>

    <button class="unstyled" id="back_to_top" aria-label="back to top of page" onclick="window.scrollTo(0,0); document.getElementById('skip_link').focus()">
        back to top ðŸš€
    </button>

</div>

    <footer>

    <noscript>

    <style>
        #dark_mode_toggle,
        #back_to_top,
        #skip_link {
            display: none !important;
        }

        p {
            max-width: none !important;
        }
    </style>

    <div class="banner info">
        Are you blocking Javascript? I think privacy is awesome too. I don't use cookies, Google scripts, or other forms of tracking, but I do use Javascript to give you fun things like <strong>dark mode</strong>. Happy browsing!
    </div>

</noscript>

    <div class="banner info ie">
        Are you in Internet Explorer? That's so cool - I love retro stuff too. You can enjoy about 80% of my site with IE. For that extra goodness, use your alternative browser of choice.
    </div>

    <span class="copyright">
        &copy; 2019-2020 Braden East
    </span>

    <div class="right">
        <div class="space horizontal">
            <a class="highlight" href="https://codepen.io/bradeneast" aria-label="Braden East on CodePen">
    <svg aria-hidden="true" focusable="false" data-icon="codepen" role="img" viewBox="0 0 512 512">
        Codepen
        <path fill="currentColor" d="M502.285 159.704l-234-156c-7.987-4.915-16.511-4.96-24.571 0l-234 156C3.714 163.703 0 170.847 0 177.989v155.999c0 7.143 3.714 14.286 9.715 18.286l234 156.022c7.987 4.915 16.511 4.96 24.571 0l234-156.022c6-3.999 9.715-11.143 9.715-18.286V177.989c-.001-7.142-3.715-14.286-9.716-18.285zM278 63.131l172.286 114.858-76.857 51.429L278 165.703V63.131zm-44 0v102.572l-95.429 63.715-76.857-51.429L234 63.131zM44 219.132l55.143 36.857L44 292.846v-73.714zm190 229.715L61.714 333.989l76.857-51.429L234 346.275v102.572zm22-140.858l-77.715-52 77.715-52 77.715 52-77.715 52zm22 140.858V346.275l95.429-63.715 76.857 51.429L278 448.847zm190-156.001l-55.143-36.857L468 219.132v73.714z">
        </path>
    </svg>
</a>
<a class="highlight" href="https://www.instagram.com/bradeneastdesign" aria-label="Braden East on Instagram">
    <svg aria-hidden="true" focusable="false" data-icon="instagram" class="svg-inline--fa fa-instagram fa-w-14" role="img" viewBox="0 0 496 496">
        Instagram
        <path fill="currentColor" d="M248.14,128.62A119.42,119.42,0,1,0,367.57,248,119.23,119.23,0,0,0,248.14,128.62Zm0,197.06A77.64,77.64,0,1,1,325.78,248a77.78,77.78,0,0,1-77.64,77.64ZM400.31,123.73a27.86,27.86,0,1,1-27.86-27.85A27.8,27.8,0,0,1,400.31,123.73ZM479.4,152c-1.76-37.31-10.29-70.36-37.62-97.6s-60.29-35.75-97.6-37.62c-38.46-2.18-153.72-2.18-192.18,0C114.79,18.55,81.74,27.07,54.4,54.3s-35.75,60.28-37.62,97.6c-2.19,38.45-2.19,153.72,0,192.18,1.76,37.31,10.29,70.36,37.62,97.6s60.29,35.75,97.6,37.62c38.46,2.18,153.72,2.18,192.18,0,37.31-1.77,70.37-10.29,97.6-37.62s35.75-60.29,37.62-97.6c2.19-38.46,2.19-153.62,0-192.08ZM429.72,385.34a78.61,78.61,0,0,1-44.28,44.28C354.78,441.78,282,439,248.14,439s-106.74,2.71-137.3-9.35a78.61,78.61,0,0,1-44.28-44.28C54.4,354.68,57.21,281.92,57.21,248s-2.7-106.74,9.35-137.3a78.61,78.61,0,0,1,44.28-44.28c30.66-12.16,103.42-9.35,137.3-9.35s106.75-2.71,137.3,9.35a78.58,78.58,0,0,1,44.28,44.28c12.16,30.66,9.36,103.42,9.36,137.3S441.88,354.78,429.72,385.34Z">
        </path>
    </svg>
</a>
<a class="highlight" href="https://github.com/bradeneast" aria-label="Braden East on Github">
    <svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 496">
        Github
        <path fill="currentColor" d="M165.9,389.4c0,2-2.3,3.6-5.2,3.6-3.3.3-5.6-1.3-5.6-3.6,0-2,2.3-3.6,5.2-3.6C163.3,385.5,165.9,387.1,165.9,389.4Zm-31.1-4.5c-.7,2,1.3,4.3,4.3,4.9,2.6,1,5.6,0,6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2,2.3Zm44.2-1.7c-2.9.7-4.9,2.6-4.6,4.9.3,2,2.9,3.3,5.9,2.6s4.9-2.6,4.6-4.6S181.9,382.9,179,383.2ZM244.8,0C106.1,0,0,105.3,0,244,0,354.9,69.8,449.8,169.5,483.2c12.8,2.3,17.3-5.6,17.3-12.1,0-6.2-.3-40.4-.3-61.4,0,0-70,15-84.7-29.8,0,0-11.4-29.1-27.8-36.6,0,0-22.9-15.7,1.6-15.4,0,0,24.9,2,38.6,25.8,21.9,38.6,58.6,27.5,72.9,20.9,2.3-16,8.8-27.1,16-33.7-55.9-6.2-112.3-14.3-112.3-110.5,0-27.5,7.6-41.3,23.6-58.9-2.6-6.5-11.1-33.3,2.6-67.9,20.9-6.5,69,27,69,27a236.24,236.24,0,0,1,125.6,0s48.1-33.6,69-27c13.7,34.7,5.2,61.4,2.6,67.9,16,17.7,25.8,31.5,25.8,58.9,0,96.5-58.9,104.2-114.8,110.5,9.2,7.9,17,22.9,17,46.4,0,33.7-.3,75.4-.3,83.6,0,6.5,4.6,14.4,17.3,12.1C428.2,449.8,496,354.9,496,244,496,105.3,383.5,0,244.8,0ZM97.2,344.9c-1.3,1-1,3.3.7,5.2,1.6,1.6,3.9,2.3,5.2,1,1.3-1,1-3.3-.7-5.2C100.8,344.3,98.5,343.6,97.2,344.9Zm-10.8-8.1c-.7,1.3.3,2.9,2.3,3.9,1.6,1,3.6.7,4.3-.7s-.3-2.9-2.3-3.9C88.7,335.5,87.1,335.8,86.4,336.8Zm32.4,35.6c-1.6,1.3-1,4.3,1.3,6.2,2.3,2.3,5.2,2.6,6.5,1,1.3-1.3.7-4.3-1.3-6.2C123.1,371.1,120.1,370.8,118.8,372.4Zm-11.4-14.7c-1.6,1-1.6,3.6,0,5.9s4.3,3.3,5.6,2.3c1.6-1.3,1.6-3.9,0-6.2-1.4-2.3-4-3.3-5.6-2Z"></path>
    </svg>
</a>
<a class="highlight" href="https://www.twitter.com/bradenthehair/" aria-label="Braden East on Twitter">
    <svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 504">
        Twitter
        <path fill="currentColor" d="M459.37,150.72c.33,4.54.33,9.09.33,13.64,0,138.72-105.59,298.56-298.56,298.56A296.51,296.51,0,0,1,0,415.81a215.83,215.83,0,0,0,25.34,1.3,210.15,210.15,0,0,0,130.27-44.83A105.12,105.12,0,0,1,57.5,299.51a132.94,132.94,0,0,0,19.82,1.62,111.09,111.09,0,0,0,27.61-3.57,105,105,0,0,1-84.14-103v-1.29a105.67,105.67,0,0,0,47.43,13.31A105.07,105.07,0,0,1,35.74,66.25,298.28,298.28,0,0,0,252.1,176.06a118.78,118.78,0,0,1-2.6-24,105,105,0,0,1,181.6-71.8,206.58,206.58,0,0,0,66.6-25.34,104.61,104.61,0,0,1-46.13,57.83A210.61,210.61,0,0,0,512,96.46a225.62,225.62,0,0,1-52.63,54.26Z"></path>
    </svg>
</a>
<a class="highlight" href="/blog/feed.xml" aria-label="Subscribe to my blog's RSS feed!">
    <svg style="transform: scale(.9);" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="rss" class="svg-inline--fa fa-rss fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
        RSS
        <path fill="currentColor" d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"></path>
    </svg>
</a>
        </div>
        <div class="space horizontal">
            <button class="toggle highlight" id="dark_mode_toggle" aria-label="toggle dark mode">
    <svg viewBox="0 0 72 72">
        <path fill="currentColor" d="M61.9,36.6A25.91,25.91,0,0,1,36,62.5C1.6,61.1,1.7,12.1,36,10.7A25.91,25.91,0,0,1,61.9,36.6ZM36,.6c-4.7.1-4.7,7,0,7.2C40.7,7.6,40.7.7,36,.6ZM7.8,14.2a3.59,3.59,0,0,0,5.6,4.5A3.59,3.59,0,0,0,7.8,14.2ZM.9,44.6c1.2,4.6,7.9,3,7-1.6C6.7,38.4,0,40,.9,44.6ZM20.4,69c4.3,1.9,7.3-4.3,3.1-6.4S16.2,66.8,20.4,69Zm31.2,0c4.2-2.2,1.2-8.4-3.1-6.4S47.3,70.9,51.6,69ZM71.1,44.6c.9-4.6-5.8-6.2-7-1.6C63.2,47.6,69.9,49.2,71.1,44.6ZM64.2,14.2c-3-3.6-8.5.6-5.6,4.4C61.5,22.2,67,17.9,64.2,14.2Z" />
    </svg>
    <svg viewBox="0 0 72 72">
        <path fill="currentColor" d="M55.6,34.8c.1,25.6-31.2,38.6-49.3,20.6,27.5,4,44.4-29.7,24.6-49.2A28.94,28.94,0,0,1,55.6,34.8Zm2-18.5A3.9,3.9,0,0,0,63.3,12a3.84,3.84,0,1,0-5.7,4.3Z" />
    </svg>
</button>
        </div>
    </div>

</footer>

</body>

</html>