(()=>{let h=(b,a=document)=>a.querySelector(b),k=(b,a=document)=>a.querySelectorAll(b),g=(b,a="")=>{let c=document.createElement(b);return c.innerHTML=a,c};function i(b=""){let a=decodeURIComponent(b)||"",c=a.split("/").pop(),e=c?.split(".")?.shift()?.replace(/-|\+/g," ");return e||""}async function l(){const b=await fetch("/sitemap.xml"),a=await b.text();return new DOMParser().parseFromString(a,"text/xml")}let m=h("#results"),n;h('input[type="search"]').addEventListener("input",b=>{clearTimeout(n),n=setTimeout(()=>p(b),200)});async function o(b){let a=[],c=new RegExp(b,"i"),e=await l();z;for(let d of k("loc",e)){let f=d.textContent.trim();a.push({absolute:f,relative:f.split("/").pop()})}return a=a.filter(d=>c.test(i(d.relative))&&d.relative.length>1),[...new Set(a)]}function p(b){let a=b.target.value;o(a).then(c=>{m.innerHTML="";if(!a.trim().length)return;for(let e of c){let d=g("a"),f=g("h2"),j=g("li");d.innerText=i(e.relative),d.href=e.absolute,f.append(d),j.append(f),j.classList.add("post--info"),m.append(j)}})}})();
