(()=>{let h=(a,b=document)=>b.querySelector(a),k=(a,b=document)=>b.querySelectorAll(a),g=(a,b="")=>{let c=document.createElement(a);return c.innerHTML=b,c};function i(a=""){let b=decodeURIComponent(a)||"",c=b.split("/").pop(),e=c?.split(".")?.shift()?.replace(/-|\+/g," ");return e||""}function l(){return fetch("/sitemap.xml").then(a=>a.text()).then(a=>new DOMParser().parseFromString(a,"text/xml"))}let m=h("#results"),n;h('input[type="search"]').addEventListener("input",a=>{clearTimeout(n),n=setTimeout(()=>p(a),200)});function o(a){let b=[],c=new RegExp(a,"i");return l().then(e=>{for(let d of k("loc",e)){let f=d.textContent.trim();b.push({absolute:f,relative:f.split("/").pop()})}return b=b.filter(d=>c.test(i(d.relative))&&d.relative.length>1),[...new Set(b)]})}function p(a){let b=a.target.value;o(b).then(c=>{m.innerHTML="";if(!b.trim().length)return;for(let e of c){let d=g("a"),f=g("h2"),j=g("li");d.innerText=i(e.relative),d.href=e.absolute,f.append(d),j.append(f),j.classList.add("post--info"),m.append(j)}})}})();
