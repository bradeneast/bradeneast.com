(()=>{class z{constructor({onload:c,selector:a=`a[href^='${window.location.origin}']:not([data-no-schwifty]), a[href^='/']:not([data-no-schwifty])`,cacheLimit:e=85,preserveScroll:j=!1,transitioningAttribute:x="data-schwifty",preserveAttributes:s}={}){let y=s===!0;typeof s!="object"&&(s={documentElement:y,head:y,body:y});let n="schwifty-preload",o='link[rel="stylesheet"]',f=document,p=f.documentElement,t="innerHTML",k=new Map(),L=new IntersectionObserver((b,d)=>b.forEach(q=>{let v=q.isIntersecting,w=q.target.href;if(!v&&v!=void 0)return;k.size>=e&&k.delete(k.keys()[0]),k.get(w)?d.unobserve(q.target):N(w)}),{threshold:.5}),F=(b,d=f)=>d.querySelector(b),u=(b,d=f)=>d.querySelectorAll(b),M=b=>b.target.closest(a)||{},G=()=>u(a).forEach(b=>L.observe(b)),l=(b,d=window)=>d.dispatchEvent(new Event(b)),H=b=>b.replace(/m?s/gi,""),I=()=>{let b=getComputedStyle(p);return(H(b.transitionDelay)+H(b.transitionDuration))*1000},N=b=>{if(!b)return;let d=new XMLHttpRequest();d.onreadystatechange=function(){this.status==200&&k.set(b,d.responseXML)},d.open("GET",b,!0),d.responseType="document",d.send()},J=b=>{let d=k.get(b);if(!d){location=b;return}history.replaceState(null,null,b),u(`${o}:not(.${n})`).forEach(g=>{let h=g.href.replace(location.origin,""),i=F(`${o}.${n}[href="${h}"]`),K=F(`${o}[href="${h}"]`,d);K&&!i&&(g.classList.add(n),p.append(g)),!K&&i&&i.remove()});let q=`${o}:not(.${n})`,v=`${o}.${n}`,w=u(q,d),O=u(v);for(let g of O)Array.from(w).some(h=>h.href==g.href)||g.remove();["body","head","documentElement"].forEach(g=>{if(s[g])return;let h=f[g];for(let i of h.attributes)h.removeAttribute(i.name);for(let i of d[g].attributes)h.setAttribute(i.name,i.value)}),p.setAttribute(x,"out"),l("pagehide"),l("unload"),setTimeout(()=>{f.readyState="loading",f.body[t]=d.body[t],f.head[t]=d.head[t],p.setAttribute(x,"in"),f.visibilityState="visible",f.readyState="interactive",l("DOMContentLoaded",f),j||scrollTo(0,0),c&&(c.length?c.map(g=>g()):c()),G(),setTimeout(()=>p.removeAttribute(x),I()),f.readyState="complete",l("load"),l("pageshow")},I())};G(),addEventListener("popstate",b=>{f.visibilityState="hidden",J(location.href)}),addEventListener("click",b=>{let d=M(b).href;d&&(b.preventDefault(),f.visibilityState="hidden",l("beforeunload"),history.pushState(null,null,location.href),J(d))})}}let m=(c,a=document)=>a.querySelector(c),r=(c,a=document)=>a.querySelectorAll(c),C=(c,a="")=>{let e=document.createElement(c);return e.innerHTML=a,e},E=(c,a)=>a==void 0?JSON.parse(localStorage.getItem(c)):localStorage.setItem(c,JSON.stringify(a)),B=c=>{let a=E(c);document.documentElement.classList.toggle(c,!a),E(c,!a)};function A(c=""){let a=decodeURIComponent(c)||"",e=a.split("/").pop(),j=e?.split(".")?.shift()?.replace(/-|\+/g," ");return j||""}function D(){for(let a of["dark_mode","muted"]){let e=m(`#${a}_toggle`);e&&e.addEventListener("click",()=>B(a))}let c=new IntersectionObserver(a=>a.map(e=>e.target.classList.toggle("paused",!e.isIntersecting)),{threshold:.63});for(let a of r(".animation"))c.observe(a);for(let a of r("img"))a.alt?.length||(a.alt=a.alt||A(a.src)),a.parentElement.classList.add("has-img"),a.parentElement.title=a.title;if(m(".codepen")){let a=C("script");a.src="https://static.codepen.io/assets/embed/ei.js",a.async=!0,document.body.append(a)}for(let a of r(".embedded_project")){let e=m("button",a),j=m("iframe",a);e.addEventListener("click",()=>{j.src=j.getAttribute("data-src"),a.classList.add("loaded")})}}D();try{new z({preserveAttributes:!0,onload:D})}catch(c){console.log(c)}})();
