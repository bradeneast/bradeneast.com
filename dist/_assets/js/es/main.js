(()=>{class z{constructor({onload:c,selector:a=`a[href^="${window.location.origin}"]:not([data-no-schwifty]), a[href^="/"]:not([data-no-schwifty])`,cacheLimit:e=85,preserveScroll:k=!1,transitioningAttribute:x="data-schwifty",preserveAttributes:s}={}){let y=s===!0;typeof s!="object"&&(s={documentElement:y,head:y,body:y});let n="schwifty-preload",o='link[rel="stylesheet"]',g=document,p=g.documentElement,t="innerHTML",l=new Map(),L=new IntersectionObserver((b,d)=>b.forEach(q=>{let v=q.isIntersecting,w=q.target.href;if(!v&&v!=void 0)return;l.size>=e&&l.delete(l.keys()[0]),l.get(w)?d.unobserve(q.target):N(w)}),{threshold:.5}),F=(b,d=g)=>d.querySelector(b),u=(b,d=g)=>d.querySelectorAll(b),M=b=>b.target.closest(a)||{},G=()=>u(a).forEach(b=>L.observe(b)),h=(b,d=window)=>d.dispatchEvent(new Event(b)),H=b=>b.replace(/m?s/gi,""),I=()=>{let b=getComputedStyle(p);return(H(b.transitionDelay)+H(b.transitionDuration))*1000},N=b=>{if(!b)return;let d=new XMLHttpRequest();d.onreadystatechange=function(){this.status==200&&l.set(b,d.responseXML)},d.open("GET",b,!0),d.responseType="document",d.send()},J=b=>{let d=l.get(b);if(!d){location=b;return}history.replaceState(null,null,b),u(`${o}:not(.${n})`).forEach(f=>{let i=f.href.replace(location.origin,""),j=F(`${o}.${n}[href="${i}"]`),K=F(`${o}[href="${i}"]`,d);K&&!j&&(f.classList.add(n),p.append(f)),!K&&j&&j.remove()});let q=`${o}:not(.${n})`,v=`${o}.${n}`,w=u(q,d),O=u(v);for(let f of O)Array.from(w).some(i=>i.href==f.href)||f.remove();["body","head","documentElement"].forEach(f=>{if(s[f])return;let i=g[f];for(let j of i.attributes)i.removeAttribute(j.name);for(let j of d[f].attributes)i.setAttribute(j.name,j.value)}),p.setAttribute(x,"out"),h("pagehide"),h("unload"),setTimeout(()=>{h("loading",g),g.body[t]=d.body[t],g.head[t]=d.head[t],p.setAttribute(x,"in"),h("interactive",g),h("DOMContentLoaded",g),k||scrollTo(0,0),c&&(c.length?c.map(f=>f()):c()),G(),setTimeout(()=>p.removeAttribute(x),I()),h("complete",g),h("load"),h("pageshow")},I())};G(),addEventListener("popstate",b=>J(location.href)),addEventListener("click",b=>{let d=M(b).href;d&&(b.preventDefault(),h("beforeunload"),history.pushState(null,null,location.href),J(d))})}}let m=(c,a=document)=>a.querySelector(c),r=(c,a=document)=>a.querySelectorAll(c),C=(c,a="")=>{let e=document.createElement(c);return e.innerHTML=a,e},E=(c,a)=>a==void 0?JSON.parse(localStorage.getItem(c)):localStorage.setItem(c,JSON.stringify(a)),B=c=>{let a=E(c);document.documentElement.classList.toggle(c,!a),E(c,!a)};function A(c=""){let a=decodeURIComponent(c)||"",e=a.split("/").pop(),k=e?.split(".")?.shift()?.replace(/-|\+/g," ");return k||""}function D(){for(let a of["dark_mode","muted"]){let e=m(`#${a}_toggle`);e&&e.addEventListener("click",()=>B(a))}let c=new IntersectionObserver(a=>a.map(e=>e.target.classList.toggle("paused",!e.isIntersecting)));for(let a of r(".animation"))c.observe(a);for(let a of r("img")){if(a.title?.length)continue;a.title=a.alt?a.alt:A(a.src),a.parentElement.classList.add("has-img")}if(m(".codepen")){let a=C("script");a.src="https://static.codepen.io/assets/embed/ei.js",a.async=!0,document.body.append(a)}for(let a of r(".embedded_project")){let e=m("button",a),k=m("iframe",a);e.addEventListener("click",()=>{k.src=k.getAttribute("data-src"),a.classList.add("loaded")})}}D();try{new z({preserveAttributes:!0,onload:D})}catch(c){console.log(c)}})();
