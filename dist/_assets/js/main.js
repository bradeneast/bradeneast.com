(()=>{let w=(b,a=document)=>a.querySelector(b),l=(b,a=document)=>a.querySelectorAll(b),q=(b,a="")=>{let e=document.createElement(b);return e.innerHTML=a,e},J=(b,a)=>a==void 0?JSON.parse(localStorage.getItem(b)):localStorage.setItem(b,JSON.stringify(a)),H=b=>{let a=J(b);document.documentElement.classList.toggle(b,!a),J(b,!a)};function I(b){var f,g;let a=decodeURIComponent(b)||"",e=a.split("/").pop(),h=(g=(f=e==null?void 0:e.split("."))==null?void 0:f.shift())==null?void 0:g.replace(/-|\+/g," ");return h||""}function Q(b){let a=new XMLHttpRequest();a.onreadystatechange=function(){this.status==200&&a.responseXML&&b(a.responseXML)},a.responseType="document",a.open("GET","/sitemap.xml",!0),a.send()}function G(b){return Q(a=>{a||(window.location="/random");let e=Array.from(l("loc",a)),h=e.map(i=>i.textContent.trim()),f=h.filter(i=>b.test(i)),g=Math.round((f.length-1)*Math.random());if(f[g])window.location=f[g];else return!1})}function A(){let b=l('[class*="animate-"]'),a={threshold:.1},e=new IntersectionObserver(h,a);b.forEach(f=>e.observe(f));function h(f){f.map(g=>{let i=g.target,m=g.isIntersecting,j=i.getBoundingClientRect(),n=j.bottom-j.height/2,r=innerHeight/2,s=n>r?1:-1;m||(s=0),i.classList.toggle("intersecting",m),i.style.setProperty("--animateFrom",s)})}for(let f of l(".split")){let g=f.textContent.split("").map((i,m)=>{let j=q("span",i.replace(" ","&nbsp;"));return j.classList.add("character"),j.style.setProperty("--index",m),j.outerHTML});f.innerHTML=g.join("")}document.body.classList.remove("reduced-motion")}function B(){for(let b of l('code[class*="language-"')){let a=b.closest("pre"),e=q("span"),h=b.innerHTML.split(/\n/).length;e.classList.add("line-numbers-rows"),e.setAttribute("aria-hidden",!0);for(let f=0;f<h;f++)e.append(q("span"));a.classList.add("line-numbers"),a.append(e)}}function C(){let b=["dark_mode"];for(let a of b){let e=w(`#${a}_toggle`);if(!e)continue;e.addEventListener("click",()=>H(a))}for(let a of l('a[href*="/random"]'))a.addEventListener("click",e=>{e.preventDefault(),G(/\/blog\/.+/i)})}function D(){var b;for(let a of l("img"))((b=a.alt)==null?void 0:b.length)||(a.alt=a.alt||I(a.src)),a.parentElement.classList.add("has-img"),a.parentElement.title=a.title;if(w(".codepen")){let a=q("script");a.src="https://static.codepen.io/assets/embed/ei.js",a.async=!0,document.body.append(a)}}class E{constructor({onload:b=null,selector:a,cacheLimit:e,transitioningAttribute:h,preserveScroll:f=!1,preserveAttributes:g=!1}={}){a=a||`a[href^='${window.location.origin}']:not([data-no-schwifty]), a[href^='/']:not([data-no-schwifty])`,e=e||85,h=h||"data-schwifty";let i=g===!0;typeof g!="object"&&(g={documentElement:i,head:i,body:i});let m="schwifty-preload",j='link[rel="stylesheet"]',n=document,r=n.documentElement,s="innerHTML",t=new Map(),R=new IntersectionObserver((c,d)=>c.forEach(v=>{let y=v.isIntersecting,z=v.target.href;if(!y&&y!=void 0)return;t.size>=e&&t.delete(t.keys()[0]),t.get(z)?d.unobserve(v.target):T(z)}),{threshold:.5}),K=(c,d=n)=>d.querySelector(c),x=(c,d=n)=>d.querySelectorAll(c),S=c=>c.target.closest(a)||{},L=()=>x(a).forEach(c=>R.observe(c)),u=(c,d=window)=>d.dispatchEvent(new Event(c)),M=c=>c.replace(/m?s/gi,""),N=()=>{let c=getComputedStyle(r);return(M(c.transitionDelay)+M(c.transitionDuration))*1000},T=c=>{if(!c)return;let d=new XMLHttpRequest();d.onreadystatechange=function(){this.status==200&&t.set(c,d.responseXML)},d.open("GET",c,!0),d.responseType="document",d.send()},O=c=>{let d=t.get(c);if(!d){location=c;return}history.replaceState(null,null,c),x(`${j}:not(.${m})`).forEach(k=>{let o=k.href.replace(location.origin,""),p=K(`${j}.${m}[href="${o}"]`),P=K(`${j}[href="${o}"]`,d);P&&!p&&(k.classList.add(m),r.append(k)),!P&&p&&p.remove()});let v=`${j}:not(.${m})`,y=`${j}.${m}`,z=x(v,d),U=x(y);for(let k of U)Array.from(z).some(o=>o.href==k.href)||k.remove();["body","head","documentElement"].forEach(k=>{if(g[k])return;let o=n[k];for(let p of o.attributes)o.removeAttribute(p.name);for(let p of d[k].attributes)o.setAttribute(p.name,p.value)}),r.setAttribute(h,"out"),u("pagehide"),u("unload"),setTimeout(()=>{n.body[s]=d.body[s],n.head[s]=d.head[s],r.setAttribute(h,"in"),u("DOMContentLoaded",n),f||scrollTo(0,0),b&&(b.length?b.map(k=>k()):b()),L(),setTimeout(()=>r.removeAttribute(h),N()),u("load"),u("pageshow")},N())};L(),addEventListener("popstate",()=>O(location.href)),addEventListener("click",c=>{let d=S(c).href;d&&(c.preventDefault(),u("beforeunload"),history.pushState(null,null,location.href),O(d))})}}function F(){D(),A(),B(),C(),console.log("Built with my custom static-site site generator, affectionately called Ingrid :)")}F();try{new E({preserveAttributes:!0,onload:F})}catch(b){console.log(b)}})();
