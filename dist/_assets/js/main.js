(()=>{let v=(b,a=document)=>a.querySelector(b),j=(b,a=document)=>a.querySelectorAll(b),u=(b,a="")=>{let f=document.createElement(b);return f.innerHTML=a,f},I=(b,a)=>a==void 0?JSON.parse(localStorage.getItem(b)):localStorage.setItem(b,JSON.stringify(a)),G=b=>{let a=I(b);document.documentElement.classList.toggle(b,!a),I(b,!a)};function H(b){var g,i;let a=decodeURIComponent(b)||"",f=a.split("/").pop(),e=(i=(g=f==null?void 0:f.split("."))==null?void 0:g.shift())==null?void 0:i.replace(/-|\+/g," ");return e||""}function P(b){let a=new XMLHttpRequest();a.onreadystatechange=function(){this.status==200&&a.responseXML&&b(a.responseXML)},a.responseType="document",a.open("GET","/sitemap.xml",!0),a.send()}function F(b){return P(a=>{a||(window.location="/random");let f=Array.from(j("loc",a)),e=f.map(k=>k.textContent.trim()),g=e.filter(k=>b.test(k)),i=Math.round((g.length-1)*Math.random());if(g[i])window.location=g[i];else return!1})}function A(){document.body.classList.remove("reduced-motion");for(let e of j(".paused"))e.classList.remove("paused");let b=e=>{e.map(g=>g.target.classList.toggle("paused",!g.isIntersecting))},a={threshold:.63},f=new IntersectionObserver(b,a);for(let e of j(".animation"))f.observe(e);for(let e of j(".split")){let g=e.textContent.split("").map((i,k)=>{let l=u("span",i.replace(" ","&nbsp;"));return l.classList.add("character"),l.style.setProperty("--index",k),l.outerHTML});e.innerHTML=g.join("")}}function B(){let b=["dark_mode"];for(let a of b){let f=v(`#${a}_toggle`);if(!f)continue;f.addEventListener("click",()=>G(a))}for(let a of j('a[href*="/random"]'))a.addEventListener("click",f=>{f.preventDefault(),F(/\/blog\/.+/i)})}function C(){var b;for(let a of j("img"))((b=a.alt)==null?void 0:b.length)||(a.alt=a.alt||H(a.src)),a.parentElement.classList.add("has-img"),a.parentElement.title=a.title;if(v(".codepen")){let a=u("script");a.src="https://static.codepen.io/assets/embed/ei.js",a.async=!0,document.body.append(a)}}class D{constructor({onload:b=null,selector:a,cacheLimit:f,transitioningAttribute:e,preserveScroll:g=!1,preserveAttributes:i=!1}={}){a=a||`a[href^='${window.location.origin}']:not([data-no-schwifty]), a[href^='/']:not([data-no-schwifty])`,f=f||85,e=e||"data-schwifty";let k=i===!0;typeof i!="object"&&(i={documentElement:k,head:k,body:k});let l="schwifty-preload",r='link[rel="stylesheet"]',o=document,s=o.documentElement,w="innerHTML",p=new Map(),Q=new IntersectionObserver((c,d)=>c.forEach(t=>{let y=t.isIntersecting,z=t.target.href;if(!y&&y!=void 0)return;p.size>=f&&p.delete(p.keys()[0]),p.get(z)?d.unobserve(t.target):S(z)}),{threshold:.5}),J=(c,d=o)=>d.querySelector(c),x=(c,d=o)=>d.querySelectorAll(c),R=c=>c.target.closest(a)||{},K=()=>x(a).forEach(c=>Q.observe(c)),q=(c,d=window)=>d.dispatchEvent(new Event(c)),L=c=>c.replace(/m?s/gi,""),M=()=>{let c=getComputedStyle(s);return(L(c.transitionDelay)+L(c.transitionDuration))*1000},S=c=>{if(!c)return;let d=new XMLHttpRequest();d.onreadystatechange=function(){this.status==200&&p.set(c,d.responseXML)},d.open("GET",c,!0),d.responseType="document",d.send()},N=c=>{let d=p.get(c);if(!d){location=c;return}history.replaceState(null,null,c),x(`${r}:not(.${l})`).forEach(h=>{let m=h.href.replace(location.origin,""),n=J(`${r}.${l}[href="${m}"]`),O=J(`${r}[href="${m}"]`,d);O&&!n&&(h.classList.add(l),s.append(h)),!O&&n&&n.remove()});let t=`${r}:not(.${l})`,y=`${r}.${l}`,z=x(t,d),T=x(y);for(let h of T)Array.from(z).some(m=>m.href==h.href)||h.remove();["body","head","documentElement"].forEach(h=>{if(i[h])return;let m=o[h];for(let n of m.attributes)m.removeAttribute(n.name);for(let n of d[h].attributes)m.setAttribute(n.name,n.value)}),s.setAttribute(e,"out"),q("pagehide"),q("unload"),setTimeout(()=>{o.body[w]=d.body[w],o.head[w]=d.head[w],s.setAttribute(e,"in"),q("DOMContentLoaded",o),g||scrollTo(0,0),b&&(b.length?b.map(h=>h()):b()),K(),setTimeout(()=>s.removeAttribute(e),M()),q("load"),q("pageshow")},M())};K(),addEventListener("popstate",()=>N(location.href)),addEventListener("click",c=>{let d=R(c).href;d&&(c.preventDefault(),q("beforeunload"),history.pushState(null,null,location.href),N(d))})}}function E(){C(),A(),B()}E();try{new D({preserveAttributes:!0,onload:E})}catch(b){console.log(b)}})();
