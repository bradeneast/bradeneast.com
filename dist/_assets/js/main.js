(()=>{let t=(b,a=document)=>a.querySelector(b),n=(b,a=document)=>a.querySelectorAll(b),r=(b,a="")=>{let e=document.createElement(b);return e.innerHTML=a,e},J=(b,a)=>a==void 0?JSON.parse(localStorage.getItem(b)):localStorage.setItem(b,JSON.stringify(a));function H(b){let a=t(".modal"),e=J(b),g=!e;document.documentElement.classList.toggle(b,g),J(b,g);if(a){let i=b.replace(/[-_]/g," "),f=g?"enabled":"disabled";t(".modal__message",a).innerHTML=i+" "+f,a.classList.add("visible");let h;h=setTimeout(()=>{clearTimeout(h),a.classList.remove("visible")},2e3)}}function I(b){var i,f;let a=decodeURIComponent(b)||"",e=a.split("/").pop(),g=(f=(i=e==null?void 0:e.split("."))==null?void 0:i.shift())==null?void 0:f.replace(/-|\+/g," ");return g||""}function Q(b){let a=new XMLHttpRequest();a.onreadystatechange=function(){this.status==200&&a.responseXML&&b(a.responseXML)},a.responseType="document",a.open("GET","/sitemap.xml",!0),a.send()}function G(b){return Q(a=>{a||(window.location="/random");let e=Array.from(n("loc",a)),g=e.map(h=>h.textContent.trim()),i=g.filter(h=>b.test(h)),f=Math.round((i.length-1)*Math.random());if(i[f])window.location=i[f];else return!1})}function B(){let b="animate-in",a=n(`.${b}`),e={threshold:.2},g=new IntersectionObserver(i,e);a.forEach(f=>g.observe(f));function i(f){f.map(h=>{let k=h.target,m=h.isIntersecting,j=k.getBoundingClientRect(),s=j.bottom-j.height/2,u=innerHeight/2,o=s>u?1:-1;m||(o=0),k.style.setProperty("--animateFrom",o),k.classList.toggle("intersecting",m),m&&setTimeout(()=>k.classList.remove(b),1e3)})}for(let f of n(".split")){let h=f.textContent.split("").map((k,m)=>{let j=r("span",k.replace(" ","&nbsp;"));return j.classList.add("character"),j.style.setProperty("--index",m),j.outerHTML});f.innerHTML=h.join("")}}function C(){for(let b of n('code[class*="language-"')){let a=b.closest("pre"),e=r("span"),g=b.innerHTML.split(/\n/).length;e.classList.add("line-numbers-rows"),e.setAttribute("aria-hidden",!0);for(let i=0;i<g;i++)e.append(r("span"));a.classList.add("line-numbers"),a.append(e)}}function D(){for(let b of window.__preferences){let a=t(`#${b}_toggle`);a.addEventListener("click",()=>H(b))}for(let b of n('a[href*="/random"]'))b.addEventListener("click",a=>{a.preventDefault(),G(/\/blog\/.+/i)})}function E(){var b;for(let a of n("img"))((b=a.alt)==null?void 0:b.length)||(a.alt=a.alt||I(a.src)),a.parentElement.classList.add("has-img"),a.parentElement.title=a.title;if(t(".codepen")){let a=r("script");a.src="https://static.codepen.io/assets/embed/ei.js",a.async=!0,document.body.append(a)}}class A{constructor({onload:b=null,selector:a,cacheLimit:e,transitioningAttribute:g,preserveScroll:i=!1,preserveAttributes:f=!1}={}){a=a||`a[href^='${window.location.origin}']:not([data-no-schwifty]), a[href^='/']:not([data-no-schwifty])`,e=e||85,g=g||"data-schwifty";let h=f===!0;typeof f!="object"&&(f={documentElement:h,head:h,body:h});let k="schwifty-preload",m='link[rel="stylesheet"]',j=document,s=j.documentElement,u="innerHTML",o=new Map(),R=new IntersectionObserver((c,d)=>c.forEach(w=>{let y=w.isIntersecting,z=w.target.href;if(!y&&y!=void 0)return;o.size>=e&&o.delete(o.keys()[0]),o.get(z)?d.unobserve(w.target):T(z)}),{threshold:.5}),K=(c,d=j)=>d.querySelector(c),x=(c,d=j)=>d.querySelectorAll(c),S=c=>c.target.closest(a)||{},L=()=>x(a).forEach(c=>R.observe(c)),v=(c,d=window)=>d.dispatchEvent(new Event(c)),M=c=>c.replace(/m?s/gi,""),N=()=>{let c=getComputedStyle(s);return(M(c.transitionDelay)+M(c.transitionDuration))*1e3},T=c=>{if(!c)return;let d=new XMLHttpRequest();d.onreadystatechange=function(){this.status==200&&o.set(c,d.responseXML)},d.open("GET",c,!0),d.responseType="document",d.send()},O=c=>{let d=o.get(c);if(!d){location=c;return}history.replaceState(null,null,c),x(`${m}:not(.${k})`).forEach(l=>{let p=l.href.replace(location.origin,""),q=K(`${m}.${k}[href="${p}"]`),P=K(`${m}[href="${p}"]`,d);P&&!q&&(l.classList.add(k),s.append(l)),!P&&q&&q.remove()});let w=`${m}:not(.${k})`,y=`${m}.${k}`,z=x(w,d),U=x(y);for(let l of U)Array.from(z).some(p=>p.href==l.href)||l.remove();["body","head","documentElement"].forEach(l=>{if(f[l])return;let p=j[l];for(let q of p.attributes)p.removeAttribute(q.name);for(let q of d[l].attributes)p.setAttribute(q.name,q.value)}),s.setAttribute(g,"out"),v("pagehide"),v("unload"),setTimeout(()=>{j.body[u]=d.body[u],j.head[u]=d.head[u],s.setAttribute(g,"in"),v("DOMContentLoaded",j),i||scrollTo(0,0),b&&(b.length?b.map(l=>l()):b()),L(),setTimeout(()=>s.removeAttribute(g),N()),v("load"),v("pageshow")},N())};L(),addEventListener("popstate",()=>O(location.href)),addEventListener("click",c=>{let d=S(c).href;d&&(c.preventDefault(),v("beforeunload"),history.pushState(null,null,location.href),O(d))})}}function F(){E(),B(),C(),D()}F();try{new A({preserveAttributes:!0,onload:F})}catch(b){console.log(b)}console.log("Built with my custom static-site site generator, affectionately called Ingrid :)");})();
